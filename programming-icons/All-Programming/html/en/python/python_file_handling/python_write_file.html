
<p>Writing to a file involves opening the file in a specific mode, writing data to it, and then closing the file to ensure that all data is saved and resources are released. <a href="/python/index.htm" target="_blank">Python</a> provides a built-in function open() to handle file operations and various methods for writing data.</p>
<h2>Opening a File for Writing</h2>
<p>Opening a file for writing is the first step in performing write operations in Python. The open() function is used to open files in different modes, each suited for specific use cases.</p>
<h3>The open() Function</h3>
<p>The open() function in Python is used to open a file. It requires at least one argument, the name of the file, and can take an optional second argument that specifies the mode in which the file should be opened.</p>
<h3>File Modes for Writing</h3>
<p>Following are the main modes you can use to open a file for writing &minus;</p>
<ul class="list">
<li>
<p><strong>w (Write mode) &minus;</strong> Opens the file for writing. If the file exists, it truncates (empties) the file before writing. If the file does not exist, it creates a new file.</p>
</li>
<li>
<p><strong>a (Append Mode) &minus;</strong> Data is written at the end of the file. If the file does not exist, it creates a new file.</p>
</li>
<li>
<p><strong>x (Exclusive Creation Mode) &minus;</strong> Opens the file for exclusive creation. If the file already exists, the operation fails.</p>
</li>
<li>
<p><strong>b (Binary Mode) &minus;</strong> When used with other modes, opens the file in binary mode.</p>
</li>
<li>
<p><strong>+ (Update Mode) &minus;</strong> Opens the file for updating (reading and writing).</p>
</li>
</ul>
<h4>Example: Opening a File in Write Mode</h4>
<p>This mode is used when you want to write data to a file, starting from scratch each time the file is opened &minus;</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"example.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> <span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span> <span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"File opened successfully!!"</span><span class="token punctuation">)</span></div>
</div>
<p>Following is the output obtained &minus;</p>
<pre class="result notranslate">File opened successfully!!
</pre>
<h4>Example: Opening a File in Append Mode</h4>
<p>This mode is used when you want to add data to the end of the file without altering its existing contents &minus;</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"example.txt"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span> <span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"Appending this line.\n"</span><span class="token punctuation">)</span> <span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"File opened successfully!!"</span><span class="token punctuation">)</span></div>
</div>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">File opened successfully!!
</pre>
<div class="inserted-div">&nbsp;</div>
<h2>Writing to a File Using write() Method</h2>
<p>The write() method is used to write a single string to a file. This makes it suitable for various text-based file operations.</p>
<p>The write() method takes a single argument: the string that you want to write to the file. It writes the exact content of the string to the file without adding any additional characters, such as newlines.</p>
<h3>Example</h3>
<p>In the following example, we are opening the file "example.txt" in write mode. We then use the write() method to write a string to the file &minus;</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token comment"># Open a file in write mode</span> <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"example.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span> <span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"Hello, World!\n"</span><span class="token punctuation">)</span> <span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"This is a new line.\n"</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"File opened successfully!!"</span><span class="token punctuation">)</span></div>
</div>
<p>Following is the output of the above code &minus;</p>
<pre class="result notranslate">File opened successfully!!
</pre>
<h2>Writing to a File Using writelines() Method</h2>
<p>The writelines() method is used to write a list of strings to a file. Each string in the list is written to the file sequentially without adding any newline characters automatically.</p>
<h3>Example</h3>
<p>In this example, we are creating a list of strings, lines, with each string ending in a newline character. We then open a file "example.txt" in write mode and use the writelines() method to write all the strings in the list to the file in one operation &minus;</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token comment"># List of lines to write to the file</span> lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"First line\n"</span><span class="token punctuation">,</span> <span class="token string">"Second line\n"</span><span class="token punctuation">,</span> <span class="token string">"Third line\n"</span><span class="token punctuation">]</span> <span class="token comment"># Open a file in write mode</span> <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"example.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span> <span class="token builtin">file</span><span class="token punctuation">.</span>writelines<span class="token punctuation">(</span>lines<span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"File opened successfully!!"</span><span class="token punctuation">)</span></div>
</div>
<p>The output obtained is as shown below &minus;</p>
<pre class="result notranslate">File opened successfully!!
</pre>
<h2>Writing to a New File</h2>
<p>Writing to a new file in Python involves creating a new file (or overwriting an existing one) and writing the desired content to it. Here, we will explain the steps involved in writing to a new file &minus;</p>
<ul class="list">
<li>
<p><strong>Open the File &minus;</strong> Use the open() function to create or open a file in write mode ("w" or "wb" for binary files).</p>
</li>
<li>
<p><strong>Write Data &minus;</strong> Use the write() or writelines() method to write data to the file.</p>
</li>
<li>
<p><strong>Close the File &minus;</strong> Ensure the file is properly closed after writing, generally using the "with" statement for automatic handling.</p>
</li>
</ul>
<h3>Example</h3>
<p>In the example below, we create a "foo.txt" file and write given content in that file and finally close that file &minus;</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token comment"># Open a file</span> fo <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> fo<span class="token punctuation">.</span>write<span class="token punctuation">(</span> <span class="token string">"Python is a great language.\nYeah its great!!\n"</span><span class="token punctuation">)</span> <span class="token comment"># Close opened file</span> fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></div>
<p>If you open this file with any text editor application such as Notepad, it will have the following content &minus;</p>
<pre class="result notranslate">Python is a great language.
Yeah its great!!
</pre>
<h2>Writing to a New File in Binary Mode</h2>
<p>By default, read/write operations on a file object are performed on text string data. If we need to handle files of different types, such as media files (mp3), executables (exe), or pictures (jpg), we must open the file in binary mode by adding the 'b' prefix to the read/write mode.</p>
<h3>Writing Binary Data to a File</h3>
<p>To write binary data to a file, open the file in binary write mode ('wb'). The following example demonstrates this &minus;</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token comment"># Open a file in binary write mode</span> <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'test.bin'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span> <span class="token comment"># Binary data</span> data <span class="token operator">=</span> <span class="token string">b"Hello World"</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span></div>
<h3>Converting Text Strings to Bytes</h3>
<p>Conversion of a text string to bytes can be done using the encode() function. This is useful when you need to write text data as binary data &minus;</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token comment"># Open a file in binary write mode</span> <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'test.bin'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span> <span class="token comment"># Convert text string to bytes</span> data <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span></div>
<h2>Writing to an Existing File</h2>
<p>When an existing file is opened in write mode ('w'), its previous contents are erased. Opening a file with write permission treats it as a new file. To add data to an existing file without erasing its contents, you should open the file in append mode ('a').</p>
<h3>Example</h3>
<p>The following example demonstrates how to open a file in append mode and add new text to it &minus;</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token comment"># Open a file in append mode</span> fo <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span> text <span class="token operator">=</span> <span class="token string">"TutorialsPoint has a fabulous Python tutorial"</span> fo<span class="token punctuation">.</span>write<span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token comment"># Close opened file</span> fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></div>
<p>If you open this file with any text editor application such as Notepad, it will have the following content &minus;</p>
<pre class="result notranslate">Python is a great language.
Yeah its great!!
TutorialsPoint has a fabulous Python tutorial
</pre>
<h2>Writing to a File in Reading and Writing Modes</h2>
<p>When a file is opened for writing using 'w' or 'a', it is not possible to perform write operations at any earlier byte position in the file. The 'w+' mode, however, allows both reading and writing operations without closing the file. The seek() function is used to move the read/write pointer to any desired byte position within the file.</p>
<h3>Using the seek() Method</h3>
<p>The seek() method is used to set the position of the read/write pointer within the file. The syntax for the seek() method is as follows &minus;</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false">fileObject<span class="token punctuation">.</span>seek<span class="token punctuation">(</span>offset<span class="token punctuation">[</span><span class="token punctuation">,</span> whence<span class="token punctuation">]</span><span class="token punctuation">)</span></div>
<p>Where,</p>
<ul class="list">
<li>
<p><strong>offset</strong> &minus; This is the position of the read/write pointer within the file.</p>
</li>
<li>
<p><strong>whence</strong> &minus; This is optional and defaults to 0 which means absolute file positioning, other values are 1 which means seek relative to the current position and 2 means seek relative to the file's end.</p>
</li>
</ul>
<h4>Example</h4>
<p>The following program demonstrates how to open a file in read-write mode ('w+'), write some data, seek a specific position, and then overwrite part of the file's content &minus;</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token comment"># Open a file in read-write mode</span> fo <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"w+"</span><span class="token punctuation">)</span> <span class="token comment"># Write initial data to the file</span> fo<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"This is a rat race"</span><span class="token punctuation">)</span> <span class="token comment"># Move the read/write pointer to the 10th byte</span> fo<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># Read 3 bytes from the current position</span> data <span class="token operator">=</span> fo<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># Move the read/write pointer back to the 10th byte</span> fo<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># Overwrite the existing content with new text</span> fo<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'cat'</span><span class="token punctuation">)</span> <span class="token comment"># Close the file</span> fo<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></div>
<p>If we open the file in read mode (or seek to the starting position while in 'w+' mode) and read the contents, it will show the following &minus;</p>
<pre class="result notranslate">This is a cat race&nbsp;</pre>
</div>