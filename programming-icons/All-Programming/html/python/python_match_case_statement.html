<h2>Python match-case Statement</h2>
<p>A Python <strong>match-case</strong> statement takes an expression and compares its value to successive patterns given as one or more case blocks. Only the first pattern that matches gets executed. It is also possible to extract components (sequence elements or object attributes) from the value into <a href="/python/python_variables.htm" target="_blank">variables</a>.</p>
<p>With the release of Python 3.10, a pattern matching technique called <strong>match-case</strong> has been introduced, which is similar to the <strong>switch-case</strong> construct available in C/C++/Java etc. Its basic use is to compare a variable against one or more values. It is more similar to pattern matching in languages like Rust or Haskell than a switch statement in C or C++.</p>
<h3>Syntax</h3>
<p>The following is the syntax of match-case statement in Python -</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false">match variable_name<span class="token punctuation">:</span> case <span class="token string">'pattern 1'</span> <span class="token punctuation">:</span> statement <span class="token number">1</span> case <span class="token string">'pattern 2'</span> <span class="token punctuation">:</span> statement <span class="token number">2</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> case <span class="token string">'pattern n'</span> <span class="token punctuation">:</span> statement n</div>
<h3>Example</h3>
<p>The following code has a function named weekday(). It receives an integer argument, matches it with all possible weekday number values, and returns the corresponding name of day.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">weekday</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span> match n<span class="token punctuation">:</span> case <span class="token number">0</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Monday"</span> case <span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Tuesday"</span> case <span class="token number">2</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Wednesday"</span> case <span class="token number">3</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Thursday"</span> case <span class="token number">4</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Friday"</span> case <span class="token number">5</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Saturday"</span> case <span class="token number">6</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Sunday"</span> case _<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Invalid day number"</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>weekday<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>weekday<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>weekday<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div>
</div>
<p>On executing, this code will produce the following output &minus;</p>
<pre class="result notranslate">Thursday
Sunday
Invalid day number
</pre>
<p>The last case statement in the function has "_" as the value to compare. It serves as the wildcard case, and will be executed if all other cases are not true.</p>
<div class="inserted-div">&nbsp;</div>
<h2>Combined Cases in Match Statement</h2>
<p>Sometimes, there may be a situation where for more than one cases, a similar action has to be taken. For this, you can combine cases with the OR operator represented by "|" symbol.</p>
<h3>Example</h3>
<p>The code below shows how to combine cases in match statement. It defines a function named access() and has one string argument, representing the name of the user. For admin or manager user, the system grants full access; for Guest, the access is limited; and for the rest, there's no access.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">access</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">:</span> match user<span class="token punctuation">:</span> case <span class="token string">"admin"</span> <span class="token operator">|</span> <span class="token string">"manager"</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Full access"</span> case <span class="token string">"Guest"</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"Limited access"</span> case _<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string">"No access"</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>access<span class="token punctuation">(</span><span class="token string">"manager"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>access<span class="token punctuation">(</span><span class="token string">"Guest"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>access<span class="token punctuation">(</span><span class="token string">"Ravi"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div>
</div>
<p>On running the above code, it will show the following result &minus;</p>
<pre class="result notranslate">Full access
Limited access
No access
</pre>
<h2>List as the Argument in Match Case Statement</h2>
<p>Since Python can match the expression against any <a href="/python/python_literals.htm" target="_blank">literal</a>, you can use a <a href="/python/python_lists.htm" target="_blank">list</a> as a case value. Moreover, for variable number of items in the list, they can be parsed to a sequence with "*" operator.</p>
<h3>Example</h3>
<p>In this code, we use list as argument in match case statement.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">greeting</span><span class="token punctuation">(</span>details<span class="token punctuation">)</span><span class="token punctuation">:</span> match details<span class="token punctuation">:</span> case <span class="token punctuation">[</span>time<span class="token punctuation">,</span> name<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f'Good </span><span class="token interpolation"><span class="token punctuation">{</span>time<span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">!'</span></span> case <span class="token punctuation">[</span>time<span class="token punctuation">,</span> <span class="token operator">*</span>names<span class="token punctuation">]</span><span class="token punctuation">:</span> msg<span class="token operator">=</span><span class="token string">''</span> <span class="token keyword">for</span> name <span class="token keyword">in</span> names<span class="token punctuation">:</span> msg<span class="token operator">+=</span><span class="token string-interpolation"><span class="token string">f'Good </span><span class="token interpolation"><span class="token punctuation">{</span>time<span class="token punctuation">}</span></span> <span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">!\n'</span></span> <span class="token keyword">return</span> msg <span class="token keyword">print</span> <span class="token punctuation">(</span>greeting<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Morning"</span><span class="token punctuation">,</span> <span class="token string">"Ravi"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>greeting<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Afternoon"</span><span class="token punctuation">,</span><span class="token string">"Guest"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>greeting<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Evening"</span><span class="token punctuation">,</span> <span class="token string">"Kajal"</span><span class="token punctuation">,</span> <span class="token string">"Praveen"</span><span class="token punctuation">,</span> <span class="token string">"Lata"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div>
</div>
<p>On executing, this code will produce the following output &minus;</p>
<pre class="result notranslate">Good Morning Ravi!
Good Afternoon Guest!
Good Evening Kajal!
Good Evening Praveen!
Good Evening Lata!
</pre>
<h2>Using "if" in "Case" Clause</h2>
<p>Normally Python matches an expression against literal cases. However, it allows you to include <a href="/python/python_if_statement.htm" target="_blank">if statement</a> in the case clause for conditional computation of match variable.</p>
<h3>Example</h3>
<p>In the following example, the function argument is a list of amount and duration, and the intereset is to be calculated for amount less than or more than 10000. The condition is included in the <strong>case</strong> clause.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">intr</span><span class="token punctuation">(</span>details<span class="token punctuation">)</span><span class="token punctuation">:</span> match details<span class="token punctuation">:</span> case <span class="token punctuation">[</span>amt<span class="token punctuation">,</span> duration<span class="token punctuation">]</span> <span class="token keyword">if</span> amt<span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">:</span> <span class="token keyword">return</span> amt<span class="token operator">*</span><span class="token number">10</span><span class="token operator">*</span>duration<span class="token operator">/</span><span class="token number">100</span> case <span class="token punctuation">[</span>amt<span class="token punctuation">,</span> duration<span class="token punctuation">]</span> <span class="token keyword">if</span> amt<span class="token operator">&gt;=</span><span class="token number">10000</span><span class="token punctuation">:</span> <span class="token keyword">return</span> amt<span class="token operator">*</span><span class="token number">15</span><span class="token operator">*</span>duration<span class="token operator">/</span><span class="token number">100</span> <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Interest = "</span><span class="token punctuation">,</span> intr<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5000</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Interest = "</span><span class="token punctuation">,</span> intr<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">15000</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div>
</div>
<p>On executing, this code will produce the following output &minus;</p>
<pre class="result notranslate">Interest = 2500.0
Interest = 6750.0</pre>
<div class="bottom-library-ads mt" style="margin: 5px;">
<div id="google-bottom-ads" class="google-bottom-ads">
<div style="width: 728px; height: 250px;">&nbsp;</div>
</div>
</div>