<h2>Function Annotations</h2>
<p>The <span class="tp-codespan">function annotation</span> feature of <a href="/python/index.htm" target="_blank">Python</a> enables you to add additional explanatory metadata about the arguments declared in a function definition, and also the return data type. They are not considered by <a href="/python/python_interpreter.htm" target="_blank">Python interpreter</a> while executing the <a href="/python/python_functions.htm" target="_blank">function</a>. They are mainly for the Python IDEs for providing a detailed documentation to the programmer.</p>
<p>Although you can use the <a href="/python/python_docstrings.htm" target="_blank">docstring</a> feature of Python for documentation of a function, it may be obsolete if certain changes in the function's prototype are made. Hence, the annotation feature was introduced in Python as a result of PEP 3107.</p>
<p>Annotations are any valid Python expressions added to the arguments or return data type. Simplest example of annotation is to prescribe the data type of the arguments. Annotation is mentioned as an expression after putting a colon in front of the argument.</p>
<h3>Example</h3>
<p>Remember that Python is a dynamically typed language, and doesn't enforce any type checking at runtime. Hence annotating the arguments with <a href="/python/python_data_types.htm" target="_blank">data types</a> doesn't have any effect while calling the function. Even if non-integer arguments are given, Python doesn't detect any error.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">myfunction</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span> c <span class="token operator">=</span> a<span class="token operator">+</span>b <span class="token keyword">return</span> c <span class="token keyword">print</span> <span class="token punctuation">(</span>myfunction<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>myfunction<span class="token punctuation">(</span><span class="token string">"Hello "</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div>
</div>
<p>It will produce the following <strong>output</strong> &minus;</p>
<pre class="result notranslate">30
Hello Python
</pre>
<div class="inserted-div">&nbsp;</div>
<h2>Function Annotations With Return Type</h2>
<p>Annotations are ignored at runtime, but are helpful for the IDEs and static type checker libraries such as mypy.</p>
<p>You can give annotation for the return data type as well. After the parentheses and before the colon symbol, put an arrow (-&gt;) followed by the annotation.</p>
<h3>Example</h3>
<p>In this example, we are providing annotation for return type.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">myfunction</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span> c <span class="token operator">=</span> a<span class="token operator">+</span>b <span class="token keyword">return</span> c <span class="token keyword">print</span><span class="token punctuation">(</span>myfunction<span class="token punctuation">(</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>myfunction<span class="token punctuation">.</span>__annotations__<span class="token punctuation">)</span></div>
</div>
<p>This will generate the following output &minus;</p>
<pre class="result notranslate">144
{'a': &lt;class 'int'&gt;, 'b': &lt;class 'int'&gt;, 'return': &lt;class 'int'&gt;}
</pre>
<h2>Function Annotations With Expression</h2>
<p>As using the data type as annotation is ignored at runtime, you can put any expression which acts as the metadata for the arguments. Hence, function may have any arbitrary expression as annotation.</p>
<h3>Example</h3>
<p>In the below example, we are using expression as a function annotation.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">total</span><span class="token punctuation">(</span>x <span class="token punctuation">:</span> <span class="token string">'marks in Physics'</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token string">'marks in chemistry'</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> x<span class="token operator">+</span>y <span class="token keyword">print</span><span class="token punctuation">(</span>total<span class="token punctuation">(</span><span class="token number">86</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span>total<span class="token punctuation">.</span>__annotations__<span class="token punctuation">)</span></div>
</div>
<p>Following is the output &minus;</p>
<pre class="result notranslate" data-lang="python3">174
{'x': 'marks in Physics', 'y': 'marks in chemistry'}
</pre>
<h2>Function Annotations With Default Arguments</h2>
<p>If you want to specify a <a href="/python/python_default_arguments.htm" target="_blank">default argument</a> along with the annotation, you need to put it after the annotation expression. Default arguments must come after the required arguments in the argument list.</p>
<h3>Example 1</h3>
<p>The following example demonstrates how to provide annotation for default arguments of a function.</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">myfunction</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token string">"physics"</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token string">"Maths"</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span> c <span class="token operator">=</span> a<span class="token operator">+</span>b <span class="token keyword">return</span> c <span class="token keyword">print</span> <span class="token punctuation">(</span>myfunction<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div>
<p>The function in Python is also an <a href="/python/python_object_classes.htm" target="_blank">object</a>, and one of its attributes is __annotations__. You can check with dir() function.</p>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>myfunction<span class="token punctuation">)</span><span class="token punctuation">)</span></div>
<p>This will print the list of myfunction object containing __annotations__ as one of the attributes.</p>
<pre class="result notranslate">['__annotations__', '__builtins__', '__call__', '__class__', '__closure__', '__code__', '__defaults__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__get__', '__getattribute__', '__getstate__', '__globals__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__kwdefaults__', '__le__', '__lt__', '__module__', '__name__', '__ne__', '__new__', '__qualname__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__']
</pre>
<h3>Example 2</h3>
<p>The __annotations__ attribute itself is a <a href="/python/python_dictionaries.htm" target="_blank">dictionary</a> in which arguments are keys and anotations their values.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">myfunction</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token string">"physics"</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token string">"Maths"</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span> c <span class="token operator">=</span> a<span class="token operator">+</span>b <span class="token keyword">return</span> c <span class="token keyword">print</span> <span class="token punctuation">(</span>myfunction<span class="token punctuation">.</span>__annotations__<span class="token punctuation">)</span></div>
</div>
<p>It will produce the following <strong>output</strong> &minus;</p>
<pre class="result notranslate">{'a': 'physics', 'b': 'Maths', 'return': &lt;class 'int'&gt;}
</pre>
<h3>Example 3</h3>
<p>You may have arbitrary positional and/or arbitrary keyword arguments for a function. Annotations can be given for them also.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">myfunction</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">:</span> <span class="token string">"arbitrary args"</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">:</span> <span class="token string">"arbitrary keyword args"</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span> <span class="token keyword">pass</span> <span class="token keyword">print</span> <span class="token punctuation">(</span>myfunction<span class="token punctuation">.</span>__annotations__<span class="token punctuation">)</span></div>
</div>
<p>It will produce the following <strong>output</strong> &minus;</p>
<pre class="result notranslate">{'args': 'arbitrary args', 'kwargs': 'arbitrary keyword args', 'return': &lt;class 'int'&gt;}
</pre>
<h3>Example 4</h3>
<p>In case you need to provide more than one annotation expressions to a function argument, give it in the form of a dictionary object in front of the argument itself.</p>
<div class="code-wrapper">
<div class="code-header">
<div class="logo-side">&nbsp;</div>
<div class="button-side">
<div class="execute">&nbsp;</div>
<div class="open-compiler">Open Compiler</div>
</div>
</div>
<div class="code-mirror  language-python" style="outline: none; overflow-wrap: break-word; overflow-y: auto; white-space: pre-wrap;" contenteditable="plaintext-only" spellcheck="false"><span class="token keyword">def</span> <span class="token function">division</span><span class="token punctuation">(</span>num<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">,</span> msg<span class="token operator">=</span><span class="token string">'numerator'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> den<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">,</span> msg<span class="token operator">=</span><span class="token string">'denominator'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">float</span><span class="token punctuation">:</span> <span class="token keyword">return</span> num<span class="token operator">/</span>den <span class="token keyword">print</span> <span class="token punctuation">(</span>division<span class="token punctuation">.</span>__annotations__<span class="token punctuation">)</span></div>
</div>
<p>It will produce the following <strong>output</strong> &minus;</p>
<pre class="result notranslate">{'num': {'type': &lt;class 'float'&gt;, 'msg': 'numerator'}, 'den': {'type': &lt;class 'float'&gt;, 'msg': 'denominator'}, 'return': &lt;class 'float'&gt;}&nbsp;</pre>